(function(){"use strict";var t={3917:function(t,e,r){var a=r(9242),o=r(3396);const n={class:"app"};function s(t,e,r,a,s,i){const l=(0,o.up)("Nabvar"),u=(0,o.up)("v-app-bar"),c=(0,o.up)("router-view"),d=(0,o.up)("v-main"),m=(0,o.up)("v-container"),p=(0,o.up)("Footer"),f=(0,o.up)("v-app"),w=(0,o.up)("v-layout");return(0,o.wg)(),(0,o.iD)("div",n,[(0,o.Wm)(w,null,{default:(0,o.w5)((()=>[(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Wm)(u,{color:"primary",class:"nav-content"},{default:(0,o.w5)((()=>[(0,o.Wm)(l,{class:"v-col-9"})])),_:1}),(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o.Wm)(c)])),_:1})])),_:1}),(0,o.Wm)(p)])),_:1})])),_:1})])}var i=r(7139);const l={class:"nav-link"};function u(t,e,r,a,n,s){const u=(0,o.up)("v-icon"),c=(0,o.up)("v-toolbar-title"),d=(0,o.up)("router-link"),m=(0,o.up)("v-tab"),p=(0,o.up)("v-tabs"),f=(0,o.up)("v-container");return(0,o.wg)(),(0,o.iD)("header",null,[(0,o._)("nav",null,[(0,o.Wm)(f,{fluid:"",class:"container nav-content"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{to:"/",class:"d-flex align-center text-white logo"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{icon:"$vuetify"}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Uk)("LOGO HERE")])),_:1})])),_:1}),(0,o.Wm)(p,{modelValue:n.tab,"onUpdate:modelValue":e[0]||(e[0]=t=>n.tab=t),"align-tabs":"title"},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.links,(t=>((0,o.wg)(),(0,o.j4)(m,{key:t,to:t.link},{default:(0,o.w5)((()=>[(0,o._)("span",l,(0,i.zw)(t.text),1)])),_:2},1032,["to"])))),128))])),_:1},8,["modelValue"])])),_:1})])])}var c={data(){return{tab:null,links:[{text:"Список работников",link:"/workers"},{text:"Список документов",link:"/documents"}]}},created(){this.updateActiveTab()},methods:{updateActiveTab(){this.tab=this.$route.path}},watch:{$route(){this.updateActiveTab()}}},d=r(89);const m=(0,d.Z)(c,[["render",u]]);var p=m;const f=(0,o._)("strong",null,"Vuetify",-1);function w(t,e){const r=(0,o.up)("v-col"),a=(0,o.up)("v-footer"),n=(0,o.up)("v-container");return(0,o.wg)(),(0,o.j4)(n,{fluid:"",class:"footer-content"},{default:(0,o.w5)((()=>[(0,o.Wm)(a,{color:"primary",style:{}},{default:(0,o.w5)((()=>[(0,o.Wm)(r,{contextmenu:"center",class:"text-left",cols:"12"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)((new Date).getFullYear())+" — ",1),f])),_:1})])),_:1})])),_:1})}const h={},k=(0,d.Z)(h,[["render",w]]);var v=k,y={components:{Nabvar:p,Footer:v}};const g=(0,d.Z)(y,[["render",s]]);var b=g,_=r(2483);const D={class:"d-flex justify-center"},W={class:"worker-lists"},j={class:"worker-info-title"},x={class:"worker-list"},T=(0,o._)("span",{class:"worker-info-title"},"Активность: ",-1);function O(t,e,r,a,n,s){const l=(0,o.up)("v-card-title"),u=(0,o.up)("v-icon"),c=(0,o.up)("DataTable"),d=(0,o.up)("v-card-subtitle"),m=(0,o.up)("v-card-text"),p=(0,o.up)("v-card");return(0,o.wg)(),(0,o.iD)("div",D,[s.worker?((0,o.wg)(),(0,o.j4)(p,{key:0,class:"v-col-10 justify-center",style:{"margin-bottom":"50px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(l,{class:"font-weight-bold"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(s.worker.firstName)+" "+(0,i.zw)(s.worker.lastName),1)])),_:1}),(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o._)("ul",W,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.workerData,(t=>((0,o.wg)(),(0,o.iD)("li",{class:"worker-list",key:t.title},[(0,o._)("span",j,[(0,o.Uk)((0,i.zw)(t.title)+": ",1),(0,o._)("span",null,(0,i.zw)(t.data),1)])])))),128)),(0,o._)("li",x,[T,s.worker.isActive?((0,o.wg)(),(0,o.j4)(u,{key:0,size:"large",color:"primary",icon:"mdi-checkbox-marked"})):(0,o.kq)("",!0),s.worker.isActive?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(u,{key:1,size:"large",color:"primary",icon:"mdi-alpha-x-box"}))])]),s.workerDocuments&&s.workerDocuments.length>0?((0,o.wg)(),(0,o.j4)(c,{key:0,title:"Документы, принадлежащие рабочему:",items:s.workerDocuments,headers:n.documentHeader,link:"document"},null,8,["items","headers"])):((0,o.wg)(),(0,o.j4)(d,{key:1},{default:(0,o.w5)((()=>[(0,o.Uk)("Нет документов для этого рабочего.")])),_:1}))])),_:1})])),_:1})):((0,o.wg)(),(0,o.j4)(p,{key:1},{default:(0,o.w5)((()=>[(0,o.Uk)(" Вернитесь в начало для повторной загрузки данных ")])),_:1}))])}const $={class:"data-table-title"};function I(t,e,r,a,n,s){const l=(0,o.up)("v-spacer"),u=(0,o.up)("v-text-field"),c=(0,o.up)("v-card-title"),d=(0,o.up)("v-btn"),m=(0,o.up)("v-data-table"),p=(0,o.up)("v-card");return(0,o.wg)(),(0,o.j4)(p,null,{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o._)("span",$,(0,i.zw)(r.title),1),(0,o.Wm)(l),(0,o.Wm)(u,{modelValue:n.search,"onUpdate:modelValue":e[0]||(e[0]=t=>n.search=t),"append-icon":"mdi-magnify",label:"Поиск","single-line":"","hide-details":""},null,8,["modelValue"])])),_:1}),(0,o.Wm)(m,{headers:s.headersWithActions,items:r.items,search:n.search},{"item.actions":(0,o.w5)((({item:t})=>[(0,o.Wm)(d,{class:"data-table-link",to:`/${r.link}/${t.raw.id}`,onClick:e=>s.viewItem(t),text:""},{default:(0,o.w5)((()=>[(0,o.Uk)(" Подробнее ")])),_:2},1032,["to","onClick"])])),_:1},8,["headers","items","search"])])),_:1})}var F={data(){return{search:""}},props:{title:{type:String,required:!0},headers:{type:Array,required:!0},items:{type:Array,required:!0},link:{type:String,required:!0}},computed:{headersWithActions(){return[...this.headers,{key:"actions",title:"Действия ",sortable:!1}]}},methods:{viewItem(t){console.log("Viewing item:",t.raw.id)}}};const z=(0,d.Z)(F,[["render",I],["__scopeId","data-v-baa3edaa"]]);var A=z,N={components:{DataTable:A},data(){return{workerData:[{title:"Дата рождения",data:""},{title:"Серия паспорта",data:""},{title:"Пол",data:""}],documentHeader:[{align:"start",sortable:!0,key:"typeOfDocument",title:"Тип документа"},{key:"documentNumber",title:"Номер документа"},{key:"dateDocument",title:"Дата создания"},{key:"belongTo",title:"Владелец",sortable:!1},{key:"typeDocument",title:"Тип документа"}]}},computed:{worker(){const t=parseInt(this.$route.params.id);return this.$store.getters.getWorkerById(t)},workerDocuments(){if(!this.worker)return null;parseInt(this.$route.params.id);return this.$store.getters.getDocuments.filter((t=>t.belongTo===`${this.worker.firstName} ${this.worker.lastName}`))}},methods:{getDocumentById(t){return this.$store.getters.getDocumentById(t)}},async created(){await this.$store.dispatch("fetchDocuments"),await this.$store.dispatch("fetchWorkers"),this.updateWorkerData()},watch:{worker(t){t&&this.updateWorkerData()}},methods:{updateWorkerData(){this.worker&&(this.workerData=[{title:"Дата рождения",data:this.worker.dateOfBirth},{title:"Серия паспорта",data:this.worker.passportSeries},{title:"Пол",data:this.worker.gender}])}}};const S=(0,d.Z)(N,[["render",O]]);var U=S;const B={class:"d-flex justify-center"},C={class:"document-card-title"},V={class:"document-lists"},Z={class:"document-list-title"},q={class:"info"};function E(t,e,r,a,n,s){const l=(0,o.up)("v-card-title"),u=(0,o.up)("v-card-text"),c=(0,o.up)("v-card");return(0,o.wg)(),(0,o.iD)("div",B,[s.document?((0,o.wg)(),(0,o.j4)(c,{key:0,class:"v-col-6"},{default:(0,o.w5)((()=>[(0,o.Wm)(l,{"primary-title":""},{default:(0,o.w5)((()=>[(0,o._)("span",C,(0,i.zw)(s.document.typeOfDocument),1)])),_:1}),(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o._)("ul",V,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.documentTitles,((t,e)=>((0,o.wg)(),(0,o.iD)("li",{key:e,class:"document-list"},[(0,o._)("span",Z,[(0,o.Uk)((0,i.zw)(t)+": ",1),(0,o._)("span",q,(0,i.zw)(s.document[e]),1)])])))),128))])])),_:1})])),_:1})):((0,o.wg)(),(0,o.j4)(c,{key:1},{default:(0,o.w5)((()=>[(0,o.Wm)(l,{"primary-title":""},{default:(0,o.w5)((()=>[(0,o.Uk)(" Вернитесь обратно чтобы загрузить данные ")])),_:1})])),_:1}))])}var H={computed:{document(){const t=parseInt(this.$route.params.id);return this.$store.getters.getDocumentById(t)}},data(){return{documentTitles:{documentNumber:"Номер документа",dateDocument:"Дата документа",description:"Описание",typeDocument:"Тип",proxy:"Доверенность"}}}};const P=(0,d.Z)(H,[["render",E]]);var M=P;function Y(t,e,r,a,n,s){const i=(0,o.up)("DataTable"),l=(0,o.up)("v-col"),u=(0,o.up)("v-row");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(u,{class:"justify-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(l,{theme:"surface",cols:"10",style:{"margin-bottom":"70px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{link:n.link,headers:n.headers,items:s.workers,title:n.title,search:n.search},null,8,["link","headers","items","title","search"])])),_:1})])),_:1})])}var K={components:{DataTable:A},data(){return{search:"",link:"worker",headers:[{align:"start",sortable:!1,key:"firstName",title:"Имя"},{key:"lastName",title:"Фамилия"},{key:"dateOfBirth",title:"Дата рождения"},{key:"passportSeries",title:"Серия пасспорта"},{key:"gender",title:"Пол"}],title:"Список рабочих"}},computed:{workers(){return this.$store.getters.getWorkers}},created(){this.$store.dispatch("fetchWorkers")}};const L=(0,d.Z)(K,[["render",Y]]);var R=L;function G(t,e,r,a,n,s){const i=(0,o.up)("DataTable"),l=(0,o.up)("v-col"),u=(0,o.up)("v-row");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(u,{class:"justify-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(l,{theme:"surface",cols:"10",style:{"margin-bottom":"70px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{link:n.link,headers:n.headers,items:s.documents,title:n.title,search:n.search},null,8,["link","headers","items","title","search"])])),_:1})])),_:1})])}var J={components:{DataTable:A},data(){return{search:"",link:"document",headers:[{align:"start",sortable:!1,key:"typeOfDocument",title:"Тип документа"},{key:"documentNumber",title:"Номер документа"},{key:"dateDocument",title:"Дата создания"},{key:"belongTo",title:"Владелец"},{key:"typeDocument",title:"Тип документа"}],title:"Список документов"}},computed:{documents(){return this.$store.getters.getDocuments}},created(){this.$store.dispatch("fetchDocuments")}};const Q=(0,d.Z)(J,[["render",G]]);var X=Q;const tt=[{path:"/",redirect:"/workers",meta:{title:"Список работников"}},{path:"/workers",component:R,meta:{title:"Список работников"},props:{workers:[]}},{path:"/documents",component:X,meta:{title:"Список документов"},props:{documents:[]}},{path:"/worker/:id",component:U,meta:{title:"Рабочий"},props:!0},{path:"/document/:id",component:M,meta:{title:"Документ"},props:!0}],et=(0,_.p7)({history:(0,_.PO)("/micros-test/"),routes:tt});et.afterEach((t=>{t.meta.title?(document.title=t.meta.title,localStorage.setItem("pageTitle",t.meta.title)):(document.title="micros test",localStorage.removeItem("pageTitle"))}));var rt=et,at=r(65),ot=(0,at.MT)({state:{documents:[],workers:[]},getters:{getDocuments(t){return t.documents},getWorkers(t){return t.workers},getWorkerById:t=>e=>t.workers.find((t=>t.id===e)),getDocumentById:t=>e=>t.documents.find((t=>t.id===e))},mutations:{setDocuments(t,e){t.documents=e},setWorkers(t,e){t.workers=e}},actions:{async fetchDocuments({commit:t}){const e=await fetch("http://localhost:3000/documents"),r=await e.json();t("setDocuments",r)},async fetchWorkers({commit:t}){const e=await fetch("http://localhost:3000/workers"),r=await e.json();t("setWorkers",r)}},modules:{}}),nt=(r(9773),r(8957)),st=r(6354),it=r(8600),lt=r(839);const ut={dark:!1,colors:{background:"#aeaeae",surface:"#FFFFFF",primary:"#008AEE",secondary:"#0308DA",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"}},ct=(0,nt.Rd)({components:{...st,...lt},directives:it,theme:{defaultTheme:"myCustomLightTheme",themes:{myCustomLightTheme:ut}}});var dt=ct;(0,a.ri)(b).use(ot).use(dt).use(rt).mount("#app")}},e={};function r(a){var o=e[a];if(void 0!==o)return o.exports;var n=e[a]={exports:{}};return t[a].call(n.exports,n,n.exports,r),n.exports}r.m=t,function(){var t=[];r.O=function(e,a,o,n){if(!a){var s=1/0;for(c=0;c<t.length;c++){a=t[c][0],o=t[c][1],n=t[c][2];for(var i=!0,l=0;l<a.length;l++)(!1&n||s>=n)&&Object.keys(r.O).every((function(t){return r.O[t](a[l])}))?a.splice(l--,1):(i=!1,n<s&&(s=n));if(i){t.splice(c--,1);var u=o();void 0!==u&&(e=u)}}return e}n=n||0;for(var c=t.length;c>0&&t[c-1][2]>n;c--)t[c]=t[c-1];t[c]=[a,o,n]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var a in e)r.o(e,a)&&!r.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,a){var o,n,s=a[0],i=a[1],l=a[2],u=0;if(s.some((function(e){return 0!==t[e]}))){for(o in i)r.o(i,o)&&(r.m[o]=i[o]);if(l)var c=l(r)}for(e&&e(a);u<s.length;u++)n=s[u],r.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return r.O(c)},a=self["webpackChunkmicros_test"]=self["webpackChunkmicros_test"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=r.O(void 0,[998],(function(){return r(3917)}));a=r.O(a)})();
//# sourceMappingURL=app.b7bfd476.js.map