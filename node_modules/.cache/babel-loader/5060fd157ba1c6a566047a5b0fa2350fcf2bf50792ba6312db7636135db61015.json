{"ast":null,"code":"export default {\n  data() {\n    return {\n      workerData: [{\n        title: 'Дата рождения'\n      }]\n    };\n  },\n  computed: {\n    worker() {\n      const workerId = parseInt(this.$route.params.id);\n      return this.$store.getters.getWorkerById(workerId);\n    },\n    workerDocuments() {\n      if (!this.worker) return null;\n      const workerId = parseInt(this.$route.params.id);\n      return this.$store.getters.getDocuments.filter(document => document.belongTo === `${this.worker.firstName} ${this.worker.lastName}`);\n    }\n  },\n  methods: {\n    // Метод для получения документа по его id\n    getDocumentById(id) {\n      return this.$store.getters.getDocumentById(id);\n    }\n  },\n  async created() {\n    // Получаем документы и рабочих при загрузке страницы\n    await this.$store.dispatch('fetchDocuments');\n    await this.$store.dispatch('fetchWorkers');\n  }\n};","map":{"version":3,"names":["data","workerData","title","computed","worker","workerId","parseInt","$route","params","id","$store","getters","getWorkerById","workerDocuments","getDocuments","filter","document","belongTo","firstName","lastName","methods","getDocumentById","created","dispatch"],"sources":["/Users/ibratibragimov/D-disk/working/micros-test/src/views/Details/WorkerDetails.vue"],"sourcesContent":["<template>\n  <div v-if=\"worker\">\n    <v-card>\n      <v-card-title class=\"font-weight-bold\">\n        {{ worker.firstName }} {{ worker.lastName }}\n      </v-card-title>\n      <v-card-text>\n        <ul class=\"worker-lists\">\n          <li class=\"worker-list\" v-for=\"item in workerData\" :key=\"item\">\n             <span class=\"worker-info-title\">{{ item.title }}: <span>{{ item.data }}</span></span>\n          </li>\n        </ul>\n        <p>: {{ worker.dateOfBirth }}</p>\n        <p>Серия паспорта: {{ worker.passportSeries }}</p>\n        <p>Пол: {{ worker.gender }}</p>\n        <p>Активен: {{ worker.isActive ? 'Да' : 'Нет' }}</p>\n\n        <h3>Документы, принадлежащие рабочему:</h3>\n        <ul v-if=\"workerDocuments && workerDocuments.length > 0\">\n          <li v-for=\"document in workerDocuments\" :key=\"document.id\">\n            {{ document.typeOfDocument }} - {{ document.documentNumber }}\n          </li>\n        </ul>\n        <p v-else>Нет документов для этого рабочего.</p>\n      </v-card-text>\n    </v-card>\n  </div>\n  <div v-else>\n    <!-- Можно добавить загрузку или другое сообщение, пока данные загружаются -->\n    Загрузка...\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      workerData:[\n        {\n          title:'Дата рождения',\n        }\n      ]\n    }\n  },\n  computed: {\n    worker() {\n      const workerId = parseInt(this.$route.params.id)\n      return this.$store.getters.getWorkerById(workerId)\n    },\n    workerDocuments() {\n      if (!this.worker) return null\n      const workerId = parseInt(this.$route.params.id)\n      return this.$store.getters.getDocuments.filter(\n        (document) =>\n          document.belongTo === `${this.worker.firstName} ${this.worker.lastName}`\n      )\n    },\n  },\n  methods: {\n    // Метод для получения документа по его id\n    getDocumentById(id) {\n      return this.$store.getters.getDocumentById(id)\n    },\n  },\n  async created() {\n    // Получаем документы и рабочих при загрузке страницы\n    await this.$store.dispatch('fetchDocuments')\n    await this.$store.dispatch('fetchWorkers')\n  },\n}\n</script>\n"],"mappings":"AAkCA,eAAe;EACbA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,UAAU,EAAC,CACT;QACEC,KAAK,EAAC;MACR;IAEJ;EACF,CAAC;EACDC,QAAQ,EAAE;IACRC,MAAMA,CAAA,EAAG;MACP,MAAMC,QAAO,GAAIC,QAAQ,CAAC,IAAI,CAACC,MAAM,CAACC,MAAM,CAACC,EAAE;MAC/C,OAAO,IAAI,CAACC,MAAM,CAACC,OAAO,CAACC,aAAa,CAACP,QAAQ;IACnD,CAAC;IACDQ,eAAeA,CAAA,EAAG;MAChB,IAAI,CAAC,IAAI,CAACT,MAAM,EAAE,OAAO,IAAG;MAC5B,MAAMC,QAAO,GAAIC,QAAQ,CAAC,IAAI,CAACC,MAAM,CAACC,MAAM,CAACC,EAAE;MAC/C,OAAO,IAAI,CAACC,MAAM,CAACC,OAAO,CAACG,YAAY,CAACC,MAAM,CAC3CC,QAAQ,IACPA,QAAQ,CAACC,QAAO,KAAO,GAAE,IAAI,CAACb,MAAM,CAACc,SAAS,IAAI,IAAI,CAACd,MAAM,CAACe,QAAS,EAC3E;IACF;EACF,CAAC;EACDC,OAAO,EAAE;IACP;IACAC,eAAeA,CAACZ,EAAE,EAAE;MAClB,OAAO,IAAI,CAACC,MAAM,CAACC,OAAO,CAACU,eAAe,CAACZ,EAAE;IAC/C;EACF,CAAC;EACD,MAAMa,OAAOA,CAAA,EAAG;IACd;IACA,MAAM,IAAI,CAACZ,MAAM,CAACa,QAAQ,CAAC,gBAAgB;IAC3C,MAAM,IAAI,CAACb,MAAM,CAACa,QAAQ,CAAC,cAAc;EAC3C;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}